<!DOCTYPE html> 
<html> 
<head> 
	
	<title>MassKara 2012</title> 

	<meta name="viewport" content="width=device-width, initial-scale=1"> 
	
	<link rel="stylesheet" href="css/jquery.mobile-1.2.0-rc.1.min.css" />

	<style type="text/css">
		#pMain_Content .pm_content {
			display:none;
		}

	</style>
	
	<script src="js/jquery-1.8.1.min.js"></script>

	<script>
/******************************************************************************************
			Global Var
*******************************************************************************************/
		var $pMain, $pMain_HD, $pMain_Content;
		var $pMain_Cal, $pMC_LB, $pMC_RB;
		var $NB_Sch, $NB_Venue, $NB_Fav, $NB_Info;
		var $c_Sch, $c_Venue, $c_Fav, $c_Info;

		var gObj_cNB; // Current Navi Content Info

		var gArr_place, gArr_sList;
		var gArr_weekDay, gArr_sWeekDay, gArr_month, gArr_sMonth;


/****************************************************************
			Navi Bar Object
****************************************************************/
		function MK_Navi( $NB , $content ){
			this.$NB = $NB;
			this.$content = $content;
		}


		MK_Navi.prototype = {
			constructor: MK_Navi,
			
			show : function () {  // Show Content
				this.$content.show();
			},

			change : function ( $new_NB , $new_content ) {  // Change Content

				if ( $new_NB ==  this.$NB ) {
					return;
				}

				// Navi Bar State
				this.$NB.removeClass("ui-state-persist");
				$new_NB.addClass("ui-state-persist");

				// Check Calender
				if ( $new_NB == $NB_Sch ) {
					$pMain_Cal.show().trigger( 'updatelayout' );
				} else if ( this.$NB == $NB_Sch ) {
					$pMain_Cal.hide().trigger( 'updatelayout' );
				}

				this.$NB = $new_NB;

				// Change Content 
				this.$content.hide();
				$new_content.show();
				this.$content = $new_content;
			}	


		};

/****************************************************************
			Schedule Object
****************************************************************/
		function MK_Schedule(time, title, place, detail){
			this.time = time;
		    this.title = title;
			this.place = place;
			this.detail = detail;
		}

		MK_Schedule.prototype = {
			constructor: MK_Schedule
		};


/****************************************************************
			DaySchedules Object
****************************************************************/
		function MK_DaySchedules( sDate , sList ){
			this.sDate = sDate;
			this.sList = sList; // array of Schedules on sDate
		}

		MK_Schedule.prototype = {
			constructor: MK_DaySchedules
		};

/****************************************************************
			Place Object
****************************************************************/
		function MK_Place(name, addr, latlng){
			this.name = name;
			this.addr = addr;
			this.latlng = latlng;
		}

		MK_Place.prototype = {
			constructor: MK_Place
		};




/******************************************************************************************
			Util Functions
*******************************************************************************************/
		// Check undefined
		function isUD ( v ) {
			return ( typeof ( v ) == "undefined" ? true : false );
		}

		// Conlose Log
		function log( v ) {
			if ( typeof ( console ) != "undefined" ) {
				console.log( v );	
			}
		}

/******************************************************************************************
			Init Functions
*******************************************************************************************/
		function init_vals(){
			gArr_weekDay = [ "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday" ];
			gArr_sWeekDay = [ "SUN", "MON", "TUE", "WED", "THU", "FRI", "SAT" ];
			gArr_month = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "Decmber"];
			gArr_sMonth = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
		}

		function init_Selectors ( ) {
			$pMain_HD = $pMain.children("#pMain_HD");
			$pMain_Content = $pMain.children("#pMain_Content");
			$pMain_Cal = $pMain_HD.children("#pMain_Cal");
			$pMC_LB = $pMain_Cal.find("#pMC_LB");
			$pMC_RB = $pMain_Cal.find("#pMC_RB");

			$NB_Sch = $pMain_HD.find("ul #NB_Sch");
			$NB_Venue = $pMain_HD.find("ul #NB_Venue");
			$NB_Fav = $pMain_HD.find("ul #NB_Fav");
			$NB_Info = $pMain_HD.find("ul #NB_Info");

			$c_Sch = $pMain_Content.children("#c_Sch");
			$c_Venue = $pMain_Content.children("#c_Venue");
			$c_Fav = $pMain_Content.children("#c_Fav");
			$c_Info = $pMain_Content.children("#c_Info");		
		}

		function init_Places ( ) {
			gArr_place = [
								new MK_Place( "Bacolod Public Plaza", "Downtown Bacolod City Philippines", ["10.669296", "122.946421"] )
								, new MK_Place( "MassKara Carnival Site", "Downtown Bacolod City Philippines", ["10.669590293779533", "122.94514378585814"] )
								, new MK_Place( "SM City Event Center", "Rizal Street Bacolod City Philippines", ["10.671865857143", "122.9439727"] )
								, new MK_Place( "Tourism Strip", "Lacson Street Bacolod City Philippines", ["10.67896135166121", "122.95415734438487"] )
								, new MK_Place( "Ground Floor, LCC Rizal Main Gate", "Downtown Bacolod City Philippines", ["10.669590293779533", "122.94514378585814"] )
								, new MK_Place( "Orange Gallery", "Art District Bacolod City Philippines", ["10.669590293779533", "122.94514378585814"] )
							];
		}

		function init_Schedules ( ) {

			// Schedule Dates
			var mkYear = 2012;
			var mkMonth = 9;
			var allDay = "all-day";
			var sDate, sList;

			gArr_sList = [];

			// 2012 Oct 1
			sDate = new Date(mkYear, mkMonth, 1);
			sList = [
						new MK_Schedule(allDay, "Opening of the Festival sites", 0)
						, new MK_Schedule(allDay, "Opening of Carnival sites", 1)
						, new MK_Schedule(allDay, "GMA DanssKara:The MassKara Dance Showdown Eliminations")
						, new MK_Schedule(allDay, "Fireworks")
						, new MK_Schedule(["7:00 pm", "11:00 pm"], "Opening of 2012 MassKara Festival and DanssKara Elimination (GMA Dance Showdown)", 0)
					];

			gArr_sList.push( new MK_DaySchedules( sDate , sList ) );

			// 2012 Oct 5
			sDate = new Date(mkYear, mkMonth, 5);
			sList = [
						new MK_Schedule(allDay, "MassKara Art Weekend", undefined,"Opening of art events: MassKara 9 group show, Magika MassKara, Art Tour")
						, new MK_Schedule(["7:00 pm", "10:00 pm"], "Unveiling: Majika MassKara 9: Ang Bukid Kag Baybay sa Bacolod", 0)
					];

			gArr_sList.push( new MK_DaySchedules( sDate , sList ) );

			// 2012 Oct 6
			sDate = new Date(mkYear, mkMonth, 6);
			sList = [
						new MK_Schedule(allDay, "MassKara Art Weekend")
						, new MK_Schedule(["5:00 pm", "6:00 pm"], "Opening: LCC Giant MassKara Puppets Replica Exhibits", 4)
						, new MK_Schedule(["6:00 pm", "8:00 pm"], "Opening: 9D – A Visual Arts Exhibit by the MassKara 9", 5)
					];

			gArr_sList.push( new MK_DaySchedules( sDate , sList ) );

			// 2012 Oct 7
			sDate = new Date(mkYear, mkMonth, 7);
			sList = [
						new MK_Schedule(allDay, "MassKara Art Weekend", undefined,"Opening of art events: MassKara 9 group show, Magika MassKara, Art Tour")
						, new MK_Schedule(["6:00 pm", "8:00 pm"], "Installation: Majika Masskara floats in host venues")
					];

			gArr_sList.push( new MK_DaySchedules( sDate , sList ) );

			// 2012 Oct 12
			sDate = new Date(mkYear, mkMonth, 12);
			sList = [
						new MK_Schedule(["12:00 pm", "1:00 pm"], "i-Witness DocuFest wth GMA News and Public Affairs personalities", 2)					
					];

			gArr_sList.push( new MK_DaySchedules( sDate , sList ) );

			// 2012 Oct 13
			sDate = new Date(mkYear, mkMonth, 13);
			sList = [
						new MK_Schedule(["5:00 pm", "7:00 pm"], "Little Miss MassKara (pageant night)")
					];

			gArr_sList.push( new MK_DaySchedules( sDate , sList ) );


			// 2012 Oct 14
			sDate = new Date(mkYear, mkMonth, 14);
			sList = [
						new MK_Schedule(["5:00 pm", "9:00 pm"], "MassKara Preview: A Fashion Show of MassKara Streetdancing Costumes", 0)
					];
			
			gArr_sList.push( new MK_DaySchedules( sDate , sList ) );

			// 2012 Oct 19
			sDate = new Date(mkYear, mkMonth, 19);
			sList = [
						new MK_Schedule(["6:00 pm", "11:59 pm"], "Electric MassKara Day 1: Lights Up, Music On", 3, "Street Parties at Tourism Strip and Bacolod Public Plaza continue all night long")
						, new MK_Schedule(["7:00 pm", "9:00 pm"], "(Pagkilita-ay, Pakita-ay) parade kicks off from various parts of Bacolod", 3, "Street Parties at Tourism Strip and Bacolod Public Plaza continue all night long")
						, new MK_Schedule(["9:00 pm", "10:00 pm"], "Floats converge", 3)
					];

			gArr_sList.push( new MK_DaySchedules( sDate , sList ) );

			// 2012 Oct 20
			sDate = new Date(mkYear, mkMonth, 20);
			sList = [
						new MK_Schedule(["3:00 pm", "7:00 pm"], "Streetdance – Schools Category From Libertad Araneta to Bacolod Public Plaza", 0)
						, new MK_Schedule(["4:00 pm", "6:00 pm"], "Kapuso Mall Show", 2)
						, new MK_Schedule(["4:00 pm", "7:30 pm"], "MassKara Arena Competitions Schools", 0)
						, new MK_Schedule(["6:00 pm", "11:59 pm"], "Electric MassKara Day 2: Lights Up, Music On", 3, "Street Parties at Tourism Strip and Bacolod Public Plaza continue all night long")
						, new MK_Schedule(["8:00 pm", "9:00 pm"], "Electric MassKara Performing Float Competitions Kick off ", 2, "Street Parties at Tourism Strip and Bacolod Public Plaza continue all night long")
						, new MK_Schedule(["9:00 pm", "11:00 pm"], "Electric MassKara Floats converge", 3, "Street Parties at Tourism Strip and Bacolod Public Plaza continue all night long")
						, new MK_Schedule(["10:30 pm", "11:30 pm"], "Cosplay on the Glow: The ABS-CBN/ MOR 101.5 Electric Cosplay competition", 3, "Street Parties at Tourism Strip and Bacolod Public Plaza continue all night long")

					];

			gArr_sList.push( new MK_DaySchedules( sDate , sList ) );

			// 2012 Oct 21
			sDate = new Date(mkYear, mkMonth, 21);
			sList = [
						new MK_Schedule(["3:00 pm", "10:00 pm"], "Streetdance – Barangay Category From Libertad Araneta to Bacolod Public Plaza", 0)
						, new MK_Schedule(["4:00 pm", "7:30 pm"], "MassKara Arena Competitions Barangays", 0)
						, new MK_Schedule(["6:00 pm", "11:59 pm"], "Electric MassKara Day 3", 3, "Street Parties at Tourism Strip and Bacolod Public Plaza continue all night long")
						, new MK_Schedule(["7:00 pm", "9:00 pm"], "Winners’ Showdown Electric MassKara float competition")
					];

			gArr_sList.push( new MK_DaySchedules( sDate , sList ) );

			// 2012 Oct 22
			sDate = new Date(mkYear, mkMonth, 22);
			sList = [
						new MK_Schedule(["7:00 pm", "11:00 pm"], "MassKara Festival Closing Ceremonies/DanssKara Grand Finals/Kapuso Night", 0, "Street parties at Bacolod Public Plaza continue")					
					];

			gArr_sList.push( new MK_DaySchedules( sDate , sList ) );

		}


		$(document).on('mobileinit', function() {
			$.mobile.defaultPageTransition = "none";
		});

		$(document).ready(function() {
			$pMain = $("#pMain");

			init_vals();
			init_Places();
			init_Schedules();

		 });

		$(document).on('pageinit', '#pMain', function() {
			init_Selectors();


			gObj_cNB = new MK_Navi ( $NB_Sch , $c_Sch );

			// Show Schedule Content
			gObj_cNB.show();


			// add Events
			$NB_Sch.on("click", function(){
				gObj_cNB.change( $NB_Sch , $c_Sch );
			});

			$NB_Venue.on("click", function(){
				gObj_cNB.change( $NB_Venue , $c_Venue );

			});

			$NB_Fav.on("click", function(){
				gObj_cNB.change( $NB_Fav , $c_Fav );
			});

			$NB_Info.on("click", function(){
				gObj_cNB.change( $NB_Info , $c_Info );
			});

		});

	</script>

	<script src="js/jquery.mobile-1.2.0-rc.1.min.js"></script>

</head>

<body> 

<!-- Start of Main Page -->
<div data-role="page" id="pMain"  data-theme="d">

	<div data-role="header"  data-position="fixed" data-tap-toggle="false" id="pMain_HD"> 			
		<h1>MassKara 2012</h1>

		<div data-role="navbar">
		   <ul>
			 <li><a data-icon="grid" id="NB_Sch" class="ui-btn-active">Schedule</a></li>
			 <li><a data-icon="home" id="NB_Venue" >Venues</a></li>
			 <li><a data-icon="star" id="NB_Fav" >Favorite</a></li>
			 <li><a data-icon="info" id="NB_Info" >Info</a></li>
		   </ul>
		</div>

		<div style="clear:both" id="pMain_Cal"> 
			<div class="ui-grid-b">
				<div class="ui-block-a">
					<button data-mini="true" data-inline="true" data-icon="arrow-l"  data-theme="e" id="pMC_LB">6 Oct</button>
				</div>
				<div class="ui-block-b">
					<select name="select-choice-0" id="select-choice-0" data-mini="true" data-theme="c"  id="pMC_Sel">
						<option value="standard">Sat 12 Oct</option>
					</select>
				</div>
				<div class="ui-block-c" style="text-align:right">
					<button data-mini="true" data-inline="true" data-icon="arrow-r" data-iconpos="right" data-theme="e" id="pMC_RB">8 Oct</button>
				</div>
			</div>
		</div>


	</div>  <!-- /header #pMain_HD -->

	<div data-role="content" id="pMain_Content">

		<div id="c_Sch" class="pm_content"> 
			Schedule
		</div>

		<div id="c_Venue" class="pm_content"> 
			Venues
		</div>

		<div id="c_Fav" class="pm_content"> 
			Favorite
		</div>

		<div id="c_Info" class="pm_content"> 
			Info
		</div>

	</div> <!-- /content #pMain_Content -->


</div><!-- /page #pMain -->

</body>
</html>